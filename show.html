<!DOCTYPE html>
<html>
<head>
	<title>Showing XML Data</title>
	<script type = "text/javascript">
		//WARNING : BAD CODE AND LOW PERFORMANCE
		//function to create dimensional array
		Array.prototype.addDim = function(x,y,z) {  
			 for (var i = 0; i < x; i++) {  
			  this[i] = []  
			  for (var j = 0; j < y; j++) {  
			      this[i][j] = []  
			      for (var k = 0; k < z; k++) {  
			      this[i][j][k] = []  
			      }  
			  }  
			 }  
			 return this  
		} 
		
		function loadData()
		{
			if (window.XMLHttpRequest)
			{
				xhttp=new XMLHttpRequest();
			}
			else
		    {
				xhttp=new ActiveXObject("Microsoft.XMLHTTP");
		    }
			
			xhttp.open("GET","holiday.xml",false);
			xhttp.send(null);
			xmlDoc =  xhttp.responseXML;
			
			//get data from xml tag
			date = xmlDoc.getElementsByTagName('date');
			dateLength = date.length;
			
			//var
			var month;
			var splitedString;
			var nonSplitedString;
			var yearData = [];
			var yearDate;
			var yearLength;
			var dateData = [].addDim(10, 31, 0);
			var comparable = [];
			
			//inserting data to array
			for(i=0;i<dateLength;i++) {
				yearLength = yearData.length;
				nonSplitedString = date[i].childNodes[0].nodeValue;
				splitedString = nonSplitedString.split('/');
				
				if(yearLength == 0) {
					yearData[0] = splitedString[2];
					dateData[0][splitedString[1]][splitedString[0]] = date[i].childNodes[0].nodeValue;			
				}
				else {
					for(y=0;y<=yearLength;y++) {
						if(yearData[y] == splitedString[2]) {
							dateData[y][splitedString[1]][splitedString[0]] = date[i].childNodes[0].nodeValue;;
							break;
						}
						else if(y == yearLength) {
							yearData[y] = splitedString[2];
							dateData[y][splitedString[1]][splitedString[0]] = date[i].childNodes[0].nodeValue;
							break;
						}
					}
				}
				
				nonSplitedString = "";
				splitedString = "";
			}
			
			yearLength = yearData.length;		
			
			//print
			for(y=0;y<yearLength;y++) {
				document.write("<span style='font-size:35px; font-weight:bold; color:#96BFE8;'>" + yearData[y] + "</span><br />");
				for(m=1;m<=12;m++) {
					switch(m) {
						case 1: 
							month = "Januari";
							break;
						case 2: 
							month = "Februari";
							break;
						case 3: 
							month = "Maret";
							break;
						case 4: 
							month = "April";
							break;
						case 5: 
							month = "Mei";
							break;
						case 6: 
							month = "Juni";
							break;
						case 7: 
							month = "Juli";
							break;
						case 8: 
							month = "Agustus";
							break;
						case 9: 
							month = "September";
							break;
						case 10: 
							month = "Oktober";
							break;
						case 11: 
							month = "November";
							break;
						case 12 : 
							month = "Desember";
							break;			
					}
					document.write("<span style='font-size:20px; font-weight:bold; color:#ABCCED'>" + month + "</span><br />");
					for(d=0;d<32;d++) {
						if(dateData[y][m][d] == comparable[0]) {
							continue;
						}
						else {
							document.write("<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + dateData[y][m][d] + "<span><br />");
						}
					}
				}
				if(y != yearLength-1) {
					document.write("<br />----------------------<br />")
				}
			}
		}
	</script>
</head>
<body>
	<script type="text/javascript">
		loadData();
	</script>
</body>
</html>
